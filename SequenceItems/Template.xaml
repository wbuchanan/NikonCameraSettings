<ResourceDictionary
    x:Class="NikonCameraSettings.SequenceItems.Template"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:NikonCameraSettings.SequenceItems"
    xmlns:mini="clr-namespace:NINA.View.Sequencer.MiniSequencer;assembly=NINA.Sequencer"
    xmlns:nina="clr-namespace:NINA.View.Sequencer;assembly=NINA.Sequencer">

    <!--  The definition of the plugin test instruction style  -->
    <!--  The DataType has to be defined as the instruction in context  -->
    <DataTemplate DataType="{x:Type local:SetStorageLocation}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Change Storage Location: " />
                    <ComboBox
                        Width="100"
                        Margin="5,0,0,0"
                        ItemsSource="{Binding StorageLocationSettings}"
                        SelectedItem="{Binding SelectedStorageLocationSetting, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:SetMonitorOnOff}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Turn Camera Monitor On/Off: " />
                    <ComboBox
                        Width="100"
                        Margin="5,0,0,0"
                        ItemsSource="{Binding MonitorSettings}"
                        SelectedItem="{Binding SelectedMonitorSetting, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:SetAutoISOControl}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Turn Camera Monitor On/Off: " />
                    <ComboBox
                        Width="100"
                        Margin="5,0,0,0"
                        ItemsSource="{Binding AutoISOSettings}"
                        SelectedItem="{Binding SelectedISOSetting, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:SetImageStabilization}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Change Image Stabilization Setting: " />
                    <ComboBox
                        Width="100"
                        Margin="5,0,0,0"
                        ItemsSource="{Binding VRSettings}"
                        SelectedItem="{Binding SelectedVRSetting, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:StartPixelMapping}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Start Pixel Mapping the Sensor" />
                    <TextBlock
                        Margin="20,0,0,0"
                        VerticalAlignment="Center"
                        FontStyle="Italic"
                        Text="Note: The camera will be busy for 30 seconds or more.  I recommend only using this in your start up block." />
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:StartFocusShift}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="Capture Focus Shift Stack: " />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="Polling Interval in milliseconds: " />
                        <TextBox
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding PollInterval, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            ToolTip="Be sure that the polling interval is short enough to capture some of your images being captured, otherwise it may result in errors." />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="Max Polling Iterations: " />
                        <TextBox
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding MaxPollIterations, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            ToolTip="This number should be at least equal to: 1 + ((Exposure Time per Image in ms * Number of Images) / Poll Interval) to ensure there will be a sufficient number of attempts made." />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="Status: " />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="Total Shots in Stack: " />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding TotalShots}" />
                        <TextBlock
                            Margin="25,0,0,0"
                            VerticalAlignment="Center"
                            Text="Shots Completed: " />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding CompletedShots}" />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="Shots Remaining: " />
                        <TextBlock
                            Margin="10,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding RemainingShots}" />
                    </StackPanel>
                    <StackPanel Orientation="Vertical">
                        <TextBlock
                            Margin="10,10,0,0"
                            VerticalAlignment="Center"
                            FontStyle="Italic"
                            Text="Note: You must set the focus shift parameters in the camera. There is no SDK access to those parameters." />
                        <TextBlock
                            Margin="10,10,0,0"
                            VerticalAlignment="Center"
                            FontStyle="Italic"
                            Text="Additionally, this is only recommended to capture foreground (terrestrial) features." />
                        <TextBlock
                            Margin="10,10,0,0"
                            VerticalAlignment="Center"
                            FontStyle="Italic"
                            Text="Lastly, this functionality works regularly when the storage location is set to card, but may be unstable when using other storage locations." />
                    </StackPanel>
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:SetXmpIptcData}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <StackPanel
                    Margin="0,2"
                    IsEnabled="{Binding AreControlsEnabled}"
                    Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,4,0"
                            VerticalAlignment="Center"
                            Text="XMP Slot:" />
                        <ComboBox
                            MinWidth="50"
                            VerticalAlignment="Center"
                            ItemsSource="{Binding AvailableSlots}"
                            SelectedItem="{Binding PresetSlot, UpdateSourceTrigger=PropertyChanged}" />
                        <TextBlock
                            Margin="8,0,4,0"
                            VerticalAlignment="Center"
                            Text=" | " />
                        <CheckBox
                            Margin="4,0,0,0"
                            VerticalAlignment="Center"
                            Content="Auto-Embed"
                            IsChecked="{Binding ActivatePreset, UpdateSourceTrigger=PropertyChanged}"
                            ToolTip="Activate this preset for auto-embedding into captured images. Only one preset can be active at a time." />
                    </StackPanel>

                    <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding GpsStatusDisplay}"
                            ToolTip="GPS location from NINA's Astrometry Settings (Options &gt; General). Data is included in every XMP write." />
                        <TextBlock
                            Margin="8,0,8,0"
                            VerticalAlignment="Center"
                            Text=" | " />
                        <TextBlock
                            VerticalAlignment="Center"
                            Text="{Binding TelescopeStatusDisplay}"
                            ToolTip="Telescope pointing data (RA, Dec, Alt, Az) is captured at execution time and included if the telescope is connected." />
                        <TextBlock
                            Margin="8,0,8,0"
                            VerticalAlignment="Center"
                            Text=" | " />
                        <TextBlock
                            VerticalAlignment="Center"
                            Text="{Binding WeatherStatusDisplay}"
                            ToolTip="Weather data (temperature, humidity, pressure, etc.) is captured at execution time and included if a weather device is connected." />
                    </StackPanel>
                </StackPanel>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>
</ResourceDictionary>